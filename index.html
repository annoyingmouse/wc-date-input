<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>&lt;wc-date-input/&gt;</title>
    <link rel="stylesheet" href="./style/sakura.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
      body{
        font-family: 'Figtree', sans-serif;
        margin-bottom: 10rem;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Figtree', sans-serif;
      }
    </style>
  </head>
  <body>
    <h1>&lt;wc-date-input/&gt;</h1>
    <p style="margin-bottom: 0;">
      <a href="https://www.webcomponents.org/element/@annoyingmouse/wc-date-input"
        rel="nofollow">
        <img src="https://camo.githubusercontent.com/fa095f7c7b24972f3525b39a6f31c15626f3a4cc019314b4f19ad88ccfd47ddb/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f776562636f6d706f6e656e74732e6f72672d7075626c69736865642d626c75652e737667"
             alt="Published on webcomponents.org"
             data-canonical-src="https://img.shields.io/badge/webcomponents.org-published-blue.svg"
             style="max-width: 100%;margin-bottom: 0;">
      </a>
    </p>
    <p>Demo here: <a href="https://codepen.io/annoyingmouse/pen/BaGzPdv">https://codepen.io/annoyingmouse/pen/BaGzPdv</a></p>
    <p>A web component for date input which follows the principles of that used by the <a href="https://design-system.service.gov.uk/components/date-input/">UK Government</a> (they do have excellent user interfaces)</p>
    

    <h2>Installation</h2>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"https://unpkg.com/@annoyingmouse/wc-date-input/wc-date-input.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>Alternatively:</p>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"https://cdn.skypack.dev/@annoyingmouse/wc-date-input/wc-date-input.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>You can use it minified by adding using this instead:</p>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"[WHATEVER CDN]/@annoyingmouse/wc-date-input/dist/wc-date-input.min.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>Please remember to change <code>[WHATEVER CDN]</code> to your favourite <abbr title="Content Delivery Network">CDN</abbr></p>
    <h2>Configuration</h2>
    <ul>
      <li>Adding a <code>value</code> will allow you to pre-populate the input - the date will be checked and discarded if invalid.</li>
      <li>Adding a <code>min</code> value will allow you to set a minimum valid date - the date will be checked and discarded if invalid.</li>
      <li>Adding a <code>max</code> value will allow you to set a maximum valid date - the date will be checked and discarded if invalid.</li>
      <li>Adding <code>disabled</code> will disabled the input.</li>
      <li>Adding <code>required</code> will enable validation of the input. The component is opinionated about what it will allow you to enter (invalid dates or those outside the min and max range will not be accepted) - you should not be able to enter invalid dates.</li>
      <li>Adding <code>readonly</code> will prevent the input from changing.</li>
      <li>Adding <code>dayText</code> will allow you to change the label above the day input.</li>
      <li>Adding <code>monthText</code> will allow you to change the label above the month input.</li>
      <li>Adding <code>yearText</code> will allow you to change the label above the year input.</li>
      <li>Adding <code>data-value-missing</code> allows you to customise the validation message if <code>required</code> is set.</li>
      <li>Adding <code>data-error-text</code> allows you to use external validation to set the field as invalid.</li>
    </ul>
    <h2>Examples</h2>
    <h3>Plain input</h3>
    <form id="example_001">
      <!-- <div>
        <label for="example_000_field">Example 000 (Bare bones)</label>
        <wc-date-input name="example_000_field"
                       id="example_000_field"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_001_field">Example 001 (invalid intial date - day value impossible)</label>
        <wc-date-input name="example_001_field"
                       id="example_001_field"
                       value="2020-02-30"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_002_field">Example 002 (French)</label>
        <wc-date-input name="example_002_field"
                       id="example_002_field"
                       day-text="Jour"
                       month-text="Mois"
                       year-text="AnnÃ©e"
                       value="2020-02-28"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_003_field">Example 003 (<code>min</code> 2023-05-05)</label>
        <wc-date-input name="example_003_field"
                       id="example_003_field"
                       value="2023-05-05"
                       min="2023-05-05"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_004_field">Example 004 (invalid <code>min</code> value)</label>
        <wc-date-input name="example_004_field"
                       id="example_004_field"
                       value="2023-05-05"
                       min="2023-02-30"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_005_field">Example 005 (<code>max</code> 2023-05-05)</label>
        <wc-date-input name="example_005_field"
                       id="example_005_field"
                       value="2023-05-05"
                       max="2023-05-05"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_006_field">Example 006 (invalid <code>min</code> value)</label>
        <wc-date-input name="example_006_field"
                       id="example_006_field"
                       value="2023-05-05"
                       max="2023-02-30"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_007_field">Example 007 (<code>max</code> 2023-05-05 &amp; <code>max</code> 2023-05-05)</label>
        <wc-date-input name="example_007_field"
                       id="example_007_field"
                       value="2023-05-05"
                       min="2023-05-05"
                       max="2023-05-05"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_008_field">Example 008 (invalid <code>min</code> &amp; <code>max</code> values)</label>
        <wc-date-input name="example_008_field"
                       id="example_008_field"
                       value="2023-05-05"
                       min="2023-02-30"
                       max="2023-02-30"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_009_field">Example 009 (<code>readonly</code>)</label>
        <wc-date-input name="example_009_field"
                       readonly
                       id="example_009_field"
                       value="2023-05-05"></wc-date-input>
      </div>
      <hr>

      <div>
        <label for="example_0010_field">Example 010 (<code>disabled</code>)</label>
        <wc-date-input name="example_010_field"
                       disabled
                       id="example_010_field"
                       value="2023-05-05"></wc-date-input>
      </div>
      <hr>
      <div>
        <label for="example_011_field">Example 011 (<code>required</code>)</label>
        <wc-date-input name="example_011_field"
                       required
                       id="example_011_field"
                       data-value-missing="Please enter your date of birth"
                       value="1972-08-17"></wc-date-input>
      </div>
      <hr> -->
      <div>
        <label for="example_012_field">Example 012 (<code>error-text="Please enter your date of birth"</code>)</label>
        <wc-date-input name="example_012_field"
                       data-error-text="Please enter your date of birth"
                       id="example_012_field"></wc-date-input>
      </div>
      <hr>
      <!-- <div>
        <label for="example_013_field">Example 013 (empty <code>error-test=""</code>)</label>
        <wc-date-input name="example_013_field"
                       data-error-text=""
                       id="example_013_field"></wc-date-input>
      </div>
      <hr> -->
      <button type="submit">Submit</button>
    </form>
    <script type="module" src="wc-date-input.js"></script>
    <script>
      (() => {
        const example_001 = document.getElementById('example_001')
        example_001.addEventListener('submit', e => {
          e.preventDefault()
          const formData = new FormData(example_001)
          const formValidity = example_001.checkValidity()
          const data = Object.fromEntries(formData.entries())
          console.log(data, formValidity)
        })
        const example_012_field = document.getElementById('example_012_field')
        example_012_field.addEventListener('change', e => {
          console.log(e.target.value)
          console.log(e.target.getAttribute('value'))
          if(e.target.getAttribute('value')){
            console.log("Remove error text")
            e.target.removeAttribute('data-error-text')
          } else {
            console.log("Add error text")
            e.target.setAttribute('data-error-text', 'Please enter your date of birth')
          }
        })
      })()
    </script>
  </body>
</html>